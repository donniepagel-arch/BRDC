<!DOCTYPE html>
<html>
<head>
  <title>Schedule | BRDC</title>
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getFirestore, collection, query, where, getDocs } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    import { MatchCard } from '/components.js';

    const app = initializeApp({/*config*/});
    const db = getFirestore(app);
    const leagueId = new URLSearchParams(location.search).get('league_id');

    async function load() {
      const matchesSnap = await getDocs(query(collection(db, 'leagueMatches'), where('league_id', '==', leagueId)));
      const matches = matchesSnap.docs.map(d => d.data());
      
      document.body.innerHTML = `<h1>Schedule</h1>${matches.map(m => MatchCard({ match: m })).join('')}`;
    }
    load();
  </script>
</head>
<body></body>
</html>