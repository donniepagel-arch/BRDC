jQuery(document).ready(function ($) {
    // browser window scroll (in pixels) after which the "back to top" link is shown
    var offset = 300,
        //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
        offset_opacity = 1200,
        //duration of the top scrolling animation (in ms)
        scroll_top_duration = 400,
        //grab the "back to top" link


        // $back_to_top = $('.cd-top');
        $back_to_top = $('#back_to_top');
    $to_bottom = $('#to_bottom');

    //hide or show the "back to top" link
    $(window).scroll(function () {
        ($(this).scrollTop() > offset) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
        if ($(this).scrollTop() > offset_opacity) {
            $back_to_top.addClass('cd-fade-out');
        }

        ($(this).scrollTop() + $(this).height() > $(document).height() - offset) ? $to_bottom.removeClass('cd-is-visible') : $to_bottom.addClass('cd-is-visible cd-fade-out');

    });

    //smooth scroll to top
    $back_to_top.on('click', function (event) {
        event.preventDefault();
        $('body,html').animate({
                scrollTop: 0,
            }, scroll_top_duration
        );
    });

    //smooth scroll to bottom
    $to_bottom.on('click', function (event) {
        event.preventDefault();
        var lb, hh, dh, fh;
        if (SETTINGS.event_type == 'P') {
            lb = '#my_leaderboard';
        } else {
            lb = '#group_leaderboard';
        }
        hh = $(lb + ' .legend_container').height();
        dh = $(lb + ' .disclaimer').height();
        fh = $('#footer').height();

        // alert(hh + ' + ' + dh + ' + ' + fh);
        $('body,html').animate({
                scrollTop: $(document).height() - (hh + dh + fh + 200),
            }, scroll_top_duration
        );
    });

});